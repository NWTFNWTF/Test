<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Test Three.js â€“ Minimal</title>
  <style>
    html,body{height:100%;margin:0;background:#0e0f12;color:#e7eaee;font-family:system-ui,Segoe UI,Roboto,Arial}
    #c{display:block;width:100vw;height:100vh}
    #msg{position:fixed;left:12px;bottom:12px;background:#1115;padding:10px 12px;border:1px solid #333;border-radius:8px}
  </style>
</head>
<body>
<canvas id="c"></canvas>
<div id="msg">Se vedi un cubo che gira, la pagina funziona. Poi potremo rimettere il viewer completo.</div>

<!-- Three.js UMD (no modules) -->
<script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
<script>
(function(){
  if(!window.THREE){ document.getElementById('msg').textContent='Errore: Three.js non caricato.'; return; }
  const canvas = document.getElementById('c');
  const renderer = new THREE.WebGLRenderer({canvas, antialias:true});
  function resize(){
    const w = window.innerWidth, h = window.innerHeight;
    renderer.setSize(w,h,false);
    camera.aspect = w/h; camera.updateProjectionMatrix();
  }
  const scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(60, 1, 0.1, 100);
  camera.position.set(3,2,4);
  const light = new THREE.DirectionalLight(0xffffff, 1.0); light.position.set(5,5,5); scene.add(light);
  const geo = new THREE.BoxGeometry(1,1,1);
  const mat = new THREE.MeshStandardMaterial({color:0x4fc3f7, metalness:0.2, roughness:0.6});
  const cube = new THREE.Mesh(geo, mat); scene.add(cube);
  window.addEventListener('resize', resize); resize();
  const clock = new THREE.Clock();
  (function loop(){
    const t = clock.getElapsedTime();
    cube.rotation.x = t*0.7; cube.rotation.y = t*1.1;
    renderer.render(scene, camera);
    requestAnimationFrame(loop);
  })();
})();
</script>
</body>
</html>
